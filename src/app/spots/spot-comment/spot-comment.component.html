<div *ngIf="spot" class="container-fluid">
  <div class="row">
    <div class="col-sm-6">
      <div class="row spot-details">
        <div class="col-sm-6">
          <img *ngIf="spot.images" class="spot-image" [src]="spot.images">
          <div *ngIf="!spot.images" class="alert alert-info no-image">
            {{ 'SPOT.NO_IMAGES' | translate }}
            <!-- <a href="#" class="alert-link">Click here to Login and add a picture</a> -->
            <!-- <a *ngIf="isModerator()" (click)="gotoUpdate()" class="alert-link">Click here to login and add a picture</a> -->
          </div>
          <a (click)="toSpot()"><h4>{{ spot.title }}</h4></a>
          <a class="geo_link">
            <img src="https://s3-eu-west-1.amazonaws.com/sportenjoy-files-upload/content/geo-link-icon.png" />
            {{ spot.city }}, {{ spot.country}}
          </a>
        </div>
        <div class="col-sm-6">
          <h5 class="category">
            <img
              [src]="'https://s3-eu-west-1.amazonaws.com/sportenjoy-files-upload/categories/' + decode(spot.category) + '.png'" />
            {{ prettify(spot.category) }}
          </h5>
          <div class="well well-lg">
            <p>{{ spot.description }}</p>
            <p *ngIf="!spot.description">{{ 'SPOT.NO_DESCRIPTION' | translate }}</p>
          </div>
        </div>
      </div>
    </div>
    <div class="col-sm-6">
      <form *ngIf="!submitted && !submitting" class="row" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <input type="hidden" (value)="original_message_id">
          <textarea type="text" class="form-control" placeholder="{{ 'SPOT_FORM.COMMENT' | translate }}" required
                 rows="5" [(ngModel)]="comment" name="comment"></textarea>
        </div>
        <div class="col-md-offset-3 col-md-6 section">
          <div class="form-group submit">
            <input type="submit" value="{{ 'OTHER.SUBMIT' | translate }}" class="btn btn-dark">
          </div>
        </div>
      </form>
      <div *ngIf="submitted" class="panel panel-success submitted">
        <div class="panel-heading">{{ 'SPOT_FORM.SUCCESSFUL_COMMENT_SUBMISSION' | translate }}</div>
        <div class="panel-body">
          <a [routerLink]="['/spot/' + spot.id]" class="panel-link">{{ 'SPOT_FORM.SHOW_COMMENT' | translate }}</a>
        </div>
      </div>
      <div *ngIf="submitting" class="loading">
        <div class="loader"></div>
        <div class="alert alert-info">{{ 'SPOT_FORM.PROCESSING_COMMENT' | translate }}</div>
      </div>
    </div>
  </div>
</div>
